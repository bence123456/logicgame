List(TileBase) tiles = map.getTileList();

for (TileBase tile : tiles) {
    if(tile.isHelper()) {
        int skylineNumber = tile.getIntValue(1);
        List(TileBase) playableTiles = map.getPlayableTilesForMarginHelperTile(tile);

        TileBase actualTile = playableTiles.get(0);
        int sumOfVisibleSkylineNumbers = actualTile.getIntValue(1);
        for (int i=1; i<playableTiles.size(); i++) {
            TileBase nextTile = playableTiles.get(i);
            int nextTileIntValue = nextTile.getIntValue(1);

            if (actualTile.getIntValue(1) < nextTileIntValue) {
                sumOfVisibleSkylineNumbers += nextTileIntValue;
                actualTile = nextTile;
            }
        }

        if (skylineNumber != sumOfVisibleSkylineNumbers) {
                return false;
        }
    }
}

List(Item) checkedItems;
checkedItems.add([1]);
checkedItems.add([2]);
checkedItems.add([3]);
checkedItems.add([4]);

return map.numberOfItemsInAllRowAndColumn(1, checkedItems);