List(TileBase) tiles = map.getTileList();

for (TileBase tile : tiles) {
    if(tile.isHelper()) {
        int skylineNumber = tile.getIntValue(1);
        int visibleSkylineNumber = 1;
        List(TileBase) playableTiles = map.getPlayableTilesForMarginHelperTile(tile);

        TileBase actualTile = playableTiles.get(0);
        for (int i=1; i<playableTiles.size(); i++) {
            TileBase nextTile = playableTiles.get(i);
            int nextTileIntValue = nextTile.getIntValue(1);

            if (actualTile.getIntValue(1) < nextTileIntValue) {
                visibleSkylineNumber += 1;
                actualTile = nextTile;
            }
        }

        if (skylineNumber != visibleSkylineNumber) {
                return false;
        }
    }
}

List(Item) checkedItems;
checkedItems.add([1]);
checkedItems.add([2]);
checkedItems.add([3]);
checkedItems.add([4]);

return map.numberOfItemsInAllRowAndColumn(1, checkedItems);